@using FinalProject.Models;
@model IEnumerable<Order>
@{
    ViewBag.Title = "Order Manager";
}

<h2>@ViewBag.Title</h2>

<table class="table table-hover table-responsive">
    <thead>
        <tr class="font-md">
            <th>Order Number</th>
            <th>Order Date</th>
            <th>Required Date</th>
            <th>Shipped Date</th>
            <th>Customer ID</th>
            <th>Sales Rep ID</th>
        </tr>
    </thead>
    <tbody id="orders">
        @foreach (Order o in Model)
        {
            <tr class="order-row" id="@o.OrderID">
                <td>@o.OrderID</td>
                <td>@o.OrderDate</td>
                <td>@o.RequiredDate</td>
                <td>@o.ShippedDate</td>
                <td>@o.CustomerID</td>
                <td>@o.EmployeeID</td>
            </tr>
        }
    </tbody>
</table>

<!-- Modal window -->
<div id="myModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Add to Cart?</h4>
            </div>
            <div class="modal-body">
                Modal Body
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" id="AddToCart">
                    Continue
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

@section scripts
{
    <script>
        $(function () {
            $('#AddToCart').click(function () {
                alert(ProductID + "|" + $('#Quantity').val());
            });
            //setTimeout(function () { $('.alert').fadeOut(); }, 3000);
            showModelCount(@Model.Count());

            $('#orders').on('click', '.order-row', function () {
                // display modal
                $('#myModal').modal();
            });
 });

function showModelCount(modelCount) {
    $('#modelCountDisplay').html(modelCount + " products");
}
    </script>
}